{
  "version": 3,
  "sources": ["../pkg/wasm.js", "../wasm-render.js", "../rtw-timer.js", "../node_modules/zooming/build/zooming.module.js", "../wasm-app.js"],
  "sourcesContent": ["\nlet wasm;\n\nlet cachegetInt32Memory0 = null;\nfunction getInt32Memory0() {\n    if (cachegetInt32Memory0 === null || cachegetInt32Memory0.buffer !== wasm.memory.buffer) {\n        cachegetInt32Memory0 = new Int32Array(wasm.memory.buffer);\n    }\n    return cachegetInt32Memory0;\n}\n\nlet cachegetUint8Memory0 = null;\nfunction getUint8Memory0() {\n    if (cachegetUint8Memory0 === null || cachegetUint8Memory0.buffer !== wasm.memory.buffer) {\n        cachegetUint8Memory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachegetUint8Memory0;\n}\n\nfunction getArrayU8FromWasm0(ptr, len) {\n    return getUint8Memory0().subarray(ptr / 1, ptr / 1 + len);\n}\n/**\n* Example render.\n* @returns {Uint8Array}\n*/\nexport function render() {\n    try {\n        const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n        wasm.render(retptr);\n        var r0 = getInt32Memory0()[retptr / 4 + 0];\n        var r1 = getInt32Memory0()[retptr / 4 + 1];\n        var v0 = getArrayU8FromWasm0(r0, r1).slice();\n        wasm.__wbindgen_free(r0, r1 * 1);\n        return v0;\n    } finally {\n        wasm.__wbindgen_add_to_stack_pointer(16);\n    }\n}\n\nasync function load(module, imports) {\n    if (typeof Response === 'function' && module instanceof Response) {\n        if (typeof WebAssembly.instantiateStreaming === 'function') {\n            try {\n                return await WebAssembly.instantiateStreaming(module, imports);\n\n            } catch (e) {\n                if (module.headers.get('Content-Type') != 'application/wasm') {\n                    console.warn(\"`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n\", e);\n\n                } else {\n                    throw e;\n                }\n            }\n        }\n\n        const bytes = await module.arrayBuffer();\n        return await WebAssembly.instantiate(bytes, imports);\n\n    } else {\n        const instance = await WebAssembly.instantiate(module, imports);\n\n        if (instance instanceof WebAssembly.Instance) {\n            return { instance, module };\n\n        } else {\n            return instance;\n        }\n    }\n}\n\nasync function init(input) {\n    if (typeof input === 'undefined') {\n        input = new URL('wasm_bg.wasm', import.meta.url);\n    }\n    const imports = {};\n\n\n    if (typeof input === 'string' || (typeof Request === 'function' && input instanceof Request) || (typeof URL === 'function' && input instanceof URL)) {\n        input = fetch(input);\n    }\n\n\n\n    const { instance, module } = await load(await input, imports);\n\n    wasm = instance.exports;\n    init.__wbindgen_wasm_module = module;\n\n    return wasm;\n}\n\nexport default init;\n\n", "import init, {render} from \"./pkg/wasm.js\";\n\nconsole.log(\"wasm-render module\");\n\n/**\n * Initialize wasm module and run the render function.  Embeds the render\n * result (flat RGBA array of u8's) into a Uint8ClampedArray view and embeds\n * that into an ImageData object suitable to draw into a <canvas>.\n *\n * ImageData is a supported type to pass to/from Web Workers:\n * https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\n */\nexport async function wasmRender() {\n    console.time(\"tracing rays\");\n    const pixels = render();\n    console.timeEnd(\"tracing rays\");\n\n    return new ImageData(new Uint8ClampedArray(pixels), 500);\n}\n\n/**\n * Initialize the WASM module.\n */\nexport async function wasmInit() {\n    console.time(\"init\");\n    await init();\n    console.timeEnd(\"init\");\n}\n", "export default class Timer extends HTMLElement {\n    constructor() {\n        super();\n        this.attachShadow({mode: 'open'});\n        this.active = false;\n        this.paused = false;\n\n        this.shadowRoot.innerHTML = `\n        <label>\n            <meter optimum=0 low=500 high=1000 value=0 max=1500></meter>\n            <span id=\"label-text\"></span>\n        </label>\n        `;\n\n        this.labelText = this.shadowRoot.querySelector(\"#label-text\");\n        this.meter = this.shadowRoot.querySelector(\"meter\");\n\n        this.step = this.step.bind(this);\n    }\n\n    start() {\n        if (!this.paused) {\n            this.startTime = performance.now();\n        } else {\n            this.paused = false;\n        }\n        this.active = true;\n        requestAnimationFrame(this.step);\n    }\n\n    pause() {\n        this.paused = true;\n    }\n\n    step() {\n        if (this.active && !this.paused) {\n            const diff = performance.now() - this.startTime;\n            this.setLabel(`${diff.toFixed(2)}ms`);\n            this.meter.value = diff;\n            requestAnimationFrame(this.step);\n        }\n    }\n\n    stop() {\n        this.active = false;\n    }\n\n    setLabel(msg) {\n        this.labelText.innerText = msg;\n    }\n}\ncustomElements.define(\"rtw-timer\", Timer);\n", "var cursor = {\n  default: 'auto',\n  zoomIn: 'zoom-in',\n  zoomOut: 'zoom-out',\n  grab: 'grab',\n  move: 'move'\n};\n\nfunction listen(el, event, handler) {\n  var add = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n  var options = { passive: false };\n\n  if (add) {\n    el.addEventListener(event, handler, options);\n  } else {\n    el.removeEventListener(event, handler, options);\n  }\n}\n\nfunction loadImage(src, cb) {\n  if (src) {\n    var img = new Image();\n\n    img.onload = function onImageLoad() {\n      if (cb) cb(img);\n    };\n\n    img.src = src;\n  }\n}\n\nfunction getOriginalSource(el) {\n  if (el.dataset.original) {\n    return el.dataset.original;\n  } else if (el.parentNode.tagName === 'A') {\n    return el.parentNode.getAttribute('href');\n  } else {\n    return null;\n  }\n}\n\nfunction setStyle(el, styles, remember) {\n  checkTrans(styles);\n\n  var s = el.style;\n  var original = {};\n\n  for (var key in styles) {\n    if (remember) {\n      original[key] = s[key] || '';\n    }\n\n    s[key] = styles[key];\n  }\n\n  return original;\n}\n\nfunction bindAll(_this, that) {\n  var methods = Object.getOwnPropertyNames(Object.getPrototypeOf(_this));\n  methods.forEach(function bindOne(method) {\n    _this[method] = _this[method].bind(that);\n  });\n}\n\nvar trans = {\n  transitionProp: 'transition',\n  transEndEvent: 'transitionend',\n  transformProp: 'transform',\n  transformCssProp: 'transform'\n};\nvar transformCssProp = trans.transformCssProp,\n    transEndEvent = trans.transEndEvent;\n\n\nfunction checkTrans(styles) {\n  var transitionProp = trans.transitionProp,\n      transformProp = trans.transformProp;\n\n\n  if (styles.transition) {\n    var value = styles.transition;\n    delete styles.transition;\n    styles[transitionProp] = value;\n  }\n\n  if (styles.transform) {\n    var _value = styles.transform;\n    delete styles.transform;\n    styles[transformProp] = _value;\n  }\n}\n\nvar noop = function noop() {};\n\nvar DEFAULT_OPTIONS = {\n  /**\n   * To be able to grab and drag the image for extra zoom-in.\n   * @type {boolean}\n   */\n  enableGrab: true,\n\n  /**\n   * Preload zoomable images.\n   * @type {boolean}\n   */\n  preloadImage: false,\n\n  /**\n   * Close the zoomed image when browser window is resized.\n   * @type {boolean}\n   */\n  closeOnWindowResize: true,\n\n  /**\n   * Transition duration in seconds.\n   * @type {number}\n   */\n  transitionDuration: 0.4,\n\n  /**\n   * Transition timing function.\n   * @type {string}\n   */\n  transitionTimingFunction: 'cubic-bezier(0.4, 0, 0, 1)',\n\n  /**\n   * Overlay background color.\n   * @type {string}\n   */\n  bgColor: 'rgb(255, 255, 255)',\n\n  /**\n   * Overlay background opacity.\n   * @type {number}\n   */\n  bgOpacity: 1,\n\n  /**\n   * The base scale factor for zooming. By default scale to fit the window.\n   * @type {number}\n   */\n  scaleBase: 1.0,\n\n  /**\n   * The additional scale factor when grabbing the image.\n   * @type {number}\n   */\n  scaleExtra: 0.5,\n\n  /**\n   * How much scrolling it takes before closing out.\n   * @type {number}\n   */\n  scrollThreshold: 40,\n\n  /**\n   * The z-index that the overlay will be added with.\n   * @type {number}\n   */\n  zIndex: 998,\n\n  /**\n   * Scale (zoom in) to given width and height. Ignore scaleBase if set.\n   * Alternatively, provide a percentage value relative to the original image size.\n   * @type {Object|String}\n   * @example\n   * customSize: { width: 800, height: 400 }\n   * customSize: 100%\n   */\n  customSize: null,\n\n  /**\n   * A callback function that will be called when a target is opened and\n   * transition has ended. It will get the target element as the argument.\n   * @type {Function}\n   */\n  onOpen: noop,\n\n  /**\n   * Same as above, except fired when closed.\n   * @type {Function}\n   */\n  onClose: noop,\n\n  /**\n   * Same as above, except fired when grabbed.\n   * @type {Function}\n   */\n  onGrab: noop,\n\n  /**\n   * Same as above, except fired when moved.\n   * @type {Function}\n   */\n  onMove: noop,\n\n  /**\n   * Same as above, except fired when released.\n   * @type {Function}\n   */\n  onRelease: noop,\n\n  /**\n   * A callback function that will be called before open.\n   * @type {Function}\n   */\n  onBeforeOpen: noop,\n\n  /**\n   * A callback function that will be called before close.\n   * @type {Function}\n   */\n  onBeforeClose: noop,\n\n  /**\n   * A callback function that will be called before grab.\n   * @type {Function}\n   */\n  onBeforeGrab: noop,\n\n  /**\n   * A callback function that will be called before release.\n   * @type {Function}\n   */\n  onBeforeRelease: noop,\n\n  /**\n   * A callback function that will be called when the hi-res image is loading.\n   * @type {Function}\n   */\n  onImageLoading: noop,\n\n  /**\n   * A callback function that will be called when the hi-res image is loaded.\n   * @type {Function}\n   */\n  onImageLoaded: noop\n};\n\nvar PRESS_DELAY = 200;\n\nvar handler = {\n  init: function init(instance) {\n    bindAll(this, instance);\n  },\n  click: function click(e) {\n    e.preventDefault();\n\n    if (isPressingMetaKey(e)) {\n      return window.open(this.target.srcOriginal || e.currentTarget.src, '_blank');\n    } else {\n      if (this.shown) {\n        if (this.released) {\n          this.close();\n        } else {\n          this.release();\n        }\n      } else {\n        this.open(e.currentTarget);\n      }\n    }\n  },\n  scroll: function scroll() {\n    var el = document.documentElement || document.body.parentNode || document.body;\n    var scrollLeft = window.pageXOffset || el.scrollLeft;\n    var scrollTop = window.pageYOffset || el.scrollTop;\n\n    if (this.lastScrollPosition === null) {\n      this.lastScrollPosition = {\n        x: scrollLeft,\n        y: scrollTop\n      };\n    }\n\n    var deltaX = this.lastScrollPosition.x - scrollLeft;\n    var deltaY = this.lastScrollPosition.y - scrollTop;\n    var threshold = this.options.scrollThreshold;\n\n    if (Math.abs(deltaY) >= threshold || Math.abs(deltaX) >= threshold) {\n      this.lastScrollPosition = null;\n      this.close();\n    }\n  },\n  keydown: function keydown(e) {\n    if (isEscape(e)) {\n      if (this.released) {\n        this.close();\n      } else {\n        this.release(this.close);\n      }\n    }\n  },\n  mousedown: function mousedown(e) {\n    if (!isLeftButton(e) || isPressingMetaKey(e)) return;\n    e.preventDefault();\n    var clientX = e.clientX,\n        clientY = e.clientY;\n\n\n    this.pressTimer = setTimeout(function grabOnMouseDown() {\n      this.grab(clientX, clientY);\n    }.bind(this), PRESS_DELAY);\n  },\n  mousemove: function mousemove(e) {\n    if (this.released) return;\n    this.move(e.clientX, e.clientY);\n  },\n  mouseup: function mouseup(e) {\n    if (!isLeftButton(e) || isPressingMetaKey(e)) return;\n    clearTimeout(this.pressTimer);\n\n    if (this.released) {\n      this.close();\n    } else {\n      this.release();\n    }\n  },\n  touchstart: function touchstart(e) {\n    e.preventDefault();\n    var _e$touches$ = e.touches[0],\n        clientX = _e$touches$.clientX,\n        clientY = _e$touches$.clientY;\n\n\n    this.pressTimer = setTimeout(function grabOnTouchStart() {\n      this.grab(clientX, clientY);\n    }.bind(this), PRESS_DELAY);\n  },\n  touchmove: function touchmove(e) {\n    if (this.released) return;\n\n    var _e$touches$2 = e.touches[0],\n        clientX = _e$touches$2.clientX,\n        clientY = _e$touches$2.clientY;\n\n    this.move(clientX, clientY);\n  },\n  touchend: function touchend(e) {\n    if (isTouching(e)) return;\n    clearTimeout(this.pressTimer);\n\n    if (this.released) {\n      this.close();\n    } else {\n      this.release();\n    }\n  },\n  clickOverlay: function clickOverlay() {\n    this.close();\n  },\n  resizeWindow: function resizeWindow() {\n    this.close();\n  }\n};\n\nfunction isLeftButton(e) {\n  return e.button === 0;\n}\n\nfunction isPressingMetaKey(e) {\n  return e.metaKey || e.ctrlKey;\n}\n\nfunction isTouching(e) {\n  e.targetTouches.length > 0;\n}\n\nfunction isEscape(e) {\n  var code = e.key || e.code;\n  return code === 'Escape' || e.keyCode === 27;\n}\n\nvar overlay = {\n  init: function init(instance) {\n    this.el = document.createElement('div');\n    this.instance = instance;\n    this.parent = document.body;\n\n    setStyle(this.el, {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      opacity: 0\n    });\n\n    this.updateStyle(instance.options);\n    listen(this.el, 'click', instance.handler.clickOverlay.bind(instance));\n  },\n  updateStyle: function updateStyle(options) {\n    setStyle(this.el, {\n      zIndex: options.zIndex,\n      backgroundColor: options.bgColor,\n      transition: 'opacity\\n        ' + options.transitionDuration + 's\\n        ' + options.transitionTimingFunction\n    });\n  },\n  insert: function insert() {\n    this.parent.appendChild(this.el);\n  },\n  remove: function remove() {\n    this.parent.removeChild(this.el);\n  },\n  fadeIn: function fadeIn() {\n    this.el.offsetWidth;\n    this.el.style.opacity = this.instance.options.bgOpacity;\n  },\n  fadeOut: function fadeOut() {\n    this.el.style.opacity = 0;\n  }\n};\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n// Translate z-axis to fix CSS grid display issue in Chrome:\n// https://github.com/kingdido999/zooming/issues/42\nvar TRANSLATE_Z = 0;\n\nvar target = {\n  init: function init(el, instance) {\n    this.el = el;\n    this.instance = instance;\n    this.srcThumbnail = this.el.getAttribute('src');\n    this.srcset = this.el.getAttribute('srcset');\n    this.srcOriginal = getOriginalSource(this.el);\n    this.rect = this.el.getBoundingClientRect();\n    this.translate = null;\n    this.scale = null;\n    this.styleOpen = null;\n    this.styleClose = null;\n  },\n  zoomIn: function zoomIn() {\n    var _instance$options = this.instance.options,\n        zIndex = _instance$options.zIndex,\n        enableGrab = _instance$options.enableGrab,\n        transitionDuration = _instance$options.transitionDuration,\n        transitionTimingFunction = _instance$options.transitionTimingFunction;\n\n    this.translate = this.calculateTranslate();\n    this.scale = this.calculateScale();\n\n    this.styleOpen = {\n      position: 'relative',\n      zIndex: zIndex + 1,\n      cursor: enableGrab ? cursor.grab : cursor.zoomOut,\n      transition: transformCssProp + '\\n        ' + transitionDuration + 's\\n        ' + transitionTimingFunction,\n      transform: 'translate3d(' + this.translate.x + 'px, ' + this.translate.y + 'px, ' + TRANSLATE_Z + 'px)\\n        scale(' + this.scale.x + ',' + this.scale.y + ')',\n      height: this.rect.height + 'px',\n      width: this.rect.width + 'px'\n\n      // Force layout update\n    };this.el.offsetWidth;\n\n    // Trigger transition\n    this.styleClose = setStyle(this.el, this.styleOpen, true);\n  },\n  zoomOut: function zoomOut() {\n    // Force layout update\n    this.el.offsetWidth;\n\n    setStyle(this.el, { transform: 'none' });\n  },\n  grab: function grab(x, y, scaleExtra) {\n    var windowCenter = getWindowCenter();\n    var dx = windowCenter.x - x,\n        dy = windowCenter.y - y;\n\n\n    setStyle(this.el, {\n      cursor: cursor.move,\n      transform: 'translate3d(\\n        ' + (this.translate.x + dx) + 'px, ' + (this.translate.y + dy) + 'px, ' + TRANSLATE_Z + 'px)\\n        scale(' + (this.scale.x + scaleExtra) + ',' + (this.scale.y + scaleExtra) + ')'\n    });\n  },\n  move: function move(x, y, scaleExtra) {\n    var windowCenter = getWindowCenter();\n    var dx = windowCenter.x - x,\n        dy = windowCenter.y - y;\n\n\n    setStyle(this.el, {\n      transition: transformCssProp,\n      transform: 'translate3d(\\n        ' + (this.translate.x + dx) + 'px, ' + (this.translate.y + dy) + 'px, ' + TRANSLATE_Z + 'px)\\n        scale(' + (this.scale.x + scaleExtra) + ',' + (this.scale.y + scaleExtra) + ')'\n    });\n  },\n  restoreCloseStyle: function restoreCloseStyle() {\n    setStyle(this.el, this.styleClose);\n  },\n  restoreOpenStyle: function restoreOpenStyle() {\n    setStyle(this.el, this.styleOpen);\n  },\n  upgradeSource: function upgradeSource() {\n    if (this.srcOriginal) {\n      var parentNode = this.el.parentNode;\n\n      if (this.srcset) {\n        this.el.removeAttribute('srcset');\n      }\n\n      var temp = this.el.cloneNode(false);\n\n      // Force compute the hi-res image in DOM to prevent\n      // image flickering while updating src\n      temp.setAttribute('src', this.srcOriginal);\n      temp.style.position = 'fixed';\n      temp.style.visibility = 'hidden';\n      parentNode.appendChild(temp);\n\n      // Add delay to prevent Firefox from flickering\n      setTimeout(function updateSrc() {\n        this.el.setAttribute('src', this.srcOriginal);\n        parentNode.removeChild(temp);\n      }.bind(this), 50);\n    }\n  },\n  downgradeSource: function downgradeSource() {\n    if (this.srcOriginal) {\n      if (this.srcset) {\n        this.el.setAttribute('srcset', this.srcset);\n      }\n      this.el.setAttribute('src', this.srcThumbnail);\n    }\n  },\n  calculateTranslate: function calculateTranslate() {\n    var windowCenter = getWindowCenter();\n    var targetCenter = {\n      x: this.rect.left + this.rect.width / 2,\n      y: this.rect.top + this.rect.height / 2\n\n      // The vector to translate image to the window center\n    };return {\n      x: windowCenter.x - targetCenter.x,\n      y: windowCenter.y - targetCenter.y\n    };\n  },\n  calculateScale: function calculateScale() {\n    var _el$dataset = this.el.dataset,\n        zoomingHeight = _el$dataset.zoomingHeight,\n        zoomingWidth = _el$dataset.zoomingWidth;\n    var _instance$options2 = this.instance.options,\n        customSize = _instance$options2.customSize,\n        scaleBase = _instance$options2.scaleBase;\n\n\n    if (!customSize && zoomingHeight && zoomingWidth) {\n      return {\n        x: zoomingWidth / this.rect.width,\n        y: zoomingHeight / this.rect.height\n      };\n    } else if (customSize && (typeof customSize === 'undefined' ? 'undefined' : _typeof(customSize)) === 'object') {\n      return {\n        x: customSize.width / this.rect.width,\n        y: customSize.height / this.rect.height\n      };\n    } else {\n      var targetHalfWidth = this.rect.width / 2;\n      var targetHalfHeight = this.rect.height / 2;\n      var windowCenter = getWindowCenter();\n\n      // The distance between target edge and window edge\n      var targetEdgeToWindowEdge = {\n        x: windowCenter.x - targetHalfWidth,\n        y: windowCenter.y - targetHalfHeight\n      };\n\n      var scaleHorizontally = targetEdgeToWindowEdge.x / targetHalfWidth;\n      var scaleVertically = targetEdgeToWindowEdge.y / targetHalfHeight;\n\n      // The additional scale is based on the smaller value of\n      // scaling horizontally and scaling vertically\n      var scale = scaleBase + Math.min(scaleHorizontally, scaleVertically);\n\n      if (customSize && typeof customSize === 'string') {\n        // Use zoomingWidth and zoomingHeight if available\n        var naturalWidth = zoomingWidth || this.el.naturalWidth;\n        var naturalHeight = zoomingHeight || this.el.naturalHeight;\n        var maxZoomingWidth = parseFloat(customSize) * naturalWidth / (100 * this.rect.width);\n        var maxZoomingHeight = parseFloat(customSize) * naturalHeight / (100 * this.rect.height);\n\n        // Only scale image up to the specified customSize percentage\n        if (scale > maxZoomingWidth || scale > maxZoomingHeight) {\n          return {\n            x: maxZoomingWidth,\n            y: maxZoomingHeight\n          };\n        }\n      }\n\n      return {\n        x: scale,\n        y: scale\n      };\n    }\n  }\n};\n\nfunction getWindowCenter() {\n  var docEl = document.documentElement;\n  var windowWidth = Math.min(docEl.clientWidth, window.innerWidth);\n  var windowHeight = Math.min(docEl.clientHeight, window.innerHeight);\n\n  return {\n    x: windowWidth / 2,\n    y: windowHeight / 2\n  };\n}\n\n/**\n * Zooming instance.\n */\n\nvar Zooming = function () {\n  /**\n   * @param {Object} [options] Update default options if provided.\n   */\n  function Zooming(options) {\n    classCallCheck(this, Zooming);\n\n    this.target = Object.create(target);\n    this.overlay = Object.create(overlay);\n    this.handler = Object.create(handler);\n    this.body = document.body;\n\n    this.shown = false;\n    this.lock = false;\n    this.released = true;\n    this.lastScrollPosition = null;\n    this.pressTimer = null;\n\n    this.options = _extends({}, DEFAULT_OPTIONS, options);\n    this.overlay.init(this);\n    this.handler.init(this);\n  }\n\n  /**\n   * Make element(s) zoomable.\n   * @param  {string|Element} el A css selector or an Element.\n   * @return {this}\n   */\n\n\n  createClass(Zooming, [{\n    key: 'listen',\n    value: function listen$$1(el) {\n      if (typeof el === 'string') {\n        var els = document.querySelectorAll(el);\n        var i = els.length;\n\n        while (i--) {\n          this.listen(els[i]);\n        }\n      } else if (el.tagName === 'IMG') {\n        el.style.cursor = cursor.zoomIn;\n        listen(el, 'click', this.handler.click);\n\n        if (this.options.preloadImage) {\n          loadImage(getOriginalSource(el));\n        }\n      }\n\n      return this;\n    }\n\n    /**\n     * Update options or return current options if no argument is provided.\n     * @param  {Object} options An Object that contains this.options.\n     * @return {this|this.options}\n     */\n\n  }, {\n    key: 'config',\n    value: function config(options) {\n      if (options) {\n        _extends(this.options, options);\n        this.overlay.updateStyle(this.options);\n        return this;\n      } else {\n        return this.options;\n      }\n    }\n\n    /**\n     * Open (zoom in) the Element.\n     * @param  {Element} el The Element to open.\n     * @param  {Function} [cb=this.options.onOpen] A callback function that will\n     * be called when a target is opened and transition has ended. It will get\n     * the target element as the argument.\n     * @return {this}\n     */\n\n  }, {\n    key: 'open',\n    value: function open(el) {\n      var _this = this;\n\n      var cb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.options.onOpen;\n\n      if (this.shown || this.lock) return;\n\n      var target$$1 = typeof el === 'string' ? document.querySelector(el) : el;\n\n      if (target$$1.tagName !== 'IMG') return;\n\n      this.options.onBeforeOpen(target$$1);\n\n      this.target.init(target$$1, this);\n\n      if (!this.options.preloadImage) {\n        var srcOriginal = this.target.srcOriginal;\n\n\n        if (srcOriginal != null) {\n          this.options.onImageLoading(target$$1);\n          loadImage(srcOriginal, this.options.onImageLoaded);\n        }\n      }\n\n      this.shown = true;\n      this.lock = true;\n\n      this.target.zoomIn();\n      this.overlay.insert();\n      this.overlay.fadeIn();\n\n      listen(document, 'scroll', this.handler.scroll);\n      listen(document, 'keydown', this.handler.keydown);\n\n      if (this.options.closeOnWindowResize) {\n        listen(window, 'resize', this.handler.resizeWindow);\n      }\n\n      var onOpenEnd = function onOpenEnd() {\n        listen(target$$1, transEndEvent, onOpenEnd, false);\n        _this.lock = false;\n        _this.target.upgradeSource();\n\n        if (_this.options.enableGrab) {\n          toggleGrabListeners(document, _this.handler, true);\n        }\n\n        cb(target$$1);\n      };\n\n      listen(target$$1, transEndEvent, onOpenEnd);\n\n      return this;\n    }\n\n    /**\n     * Close (zoom out) the Element currently opened.\n     * @param  {Function} [cb=this.options.onClose] A callback function that will\n     * be called when a target is closed and transition has ended. It will get\n     * the target element as the argument.\n     * @return {this}\n     */\n\n  }, {\n    key: 'close',\n    value: function close() {\n      var _this2 = this;\n\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.options.onClose;\n\n      if (!this.shown || this.lock) return;\n\n      var target$$1 = this.target.el;\n\n      this.options.onBeforeClose(target$$1);\n\n      this.lock = true;\n      this.body.style.cursor = cursor.default;\n      this.overlay.fadeOut();\n      this.target.zoomOut();\n\n      listen(document, 'scroll', this.handler.scroll, false);\n      listen(document, 'keydown', this.handler.keydown, false);\n\n      if (this.options.closeOnWindowResize) {\n        listen(window, 'resize', this.handler.resizeWindow, false);\n      }\n\n      var onCloseEnd = function onCloseEnd() {\n        listen(target$$1, transEndEvent, onCloseEnd, false);\n\n        _this2.shown = false;\n        _this2.lock = false;\n\n        _this2.target.downgradeSource();\n\n        if (_this2.options.enableGrab) {\n          toggleGrabListeners(document, _this2.handler, false);\n        }\n\n        _this2.target.restoreCloseStyle();\n        _this2.overlay.remove();\n\n        cb(target$$1);\n      };\n\n      listen(target$$1, transEndEvent, onCloseEnd);\n\n      return this;\n    }\n\n    /**\n     * Grab the Element currently opened given a position and apply extra zoom-in.\n     * @param  {number}   x The X-axis of where the press happened.\n     * @param  {number}   y The Y-axis of where the press happened.\n     * @param  {number}   scaleExtra Extra zoom-in to apply.\n     * @param  {Function} [cb=this.options.onGrab] A callback function that\n     * will be called when a target is grabbed and transition has ended. It\n     * will get the target element as the argument.\n     * @return {this}\n     */\n\n  }, {\n    key: 'grab',\n    value: function grab(x, y) {\n      var scaleExtra = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.options.scaleExtra;\n      var cb = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this.options.onGrab;\n\n      if (!this.shown || this.lock) return;\n\n      var target$$1 = this.target.el;\n\n      this.options.onBeforeGrab(target$$1);\n\n      this.released = false;\n      this.target.grab(x, y, scaleExtra);\n\n      var onGrabEnd = function onGrabEnd() {\n        listen(target$$1, transEndEvent, onGrabEnd, false);\n        cb(target$$1);\n      };\n\n      listen(target$$1, transEndEvent, onGrabEnd);\n\n      return this;\n    }\n\n    /**\n     * Move the Element currently grabbed given a position and apply extra zoom-in.\n     * @param  {number}   x The X-axis of where the press happened.\n     * @param  {number}   y The Y-axis of where the press happened.\n     * @param  {number}   scaleExtra Extra zoom-in to apply.\n     * @param  {Function} [cb=this.options.onMove] A callback function that\n     * will be called when a target is moved and transition has ended. It will\n     * get the target element as the argument.\n     * @return {this}\n     */\n\n  }, {\n    key: 'move',\n    value: function move(x, y) {\n      var scaleExtra = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.options.scaleExtra;\n      var cb = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this.options.onMove;\n\n      if (!this.shown || this.lock) return;\n\n      this.released = false;\n      this.body.style.cursor = cursor.move;\n      this.target.move(x, y, scaleExtra);\n\n      var target$$1 = this.target.el;\n\n      var onMoveEnd = function onMoveEnd() {\n        listen(target$$1, transEndEvent, onMoveEnd, false);\n        cb(target$$1);\n      };\n\n      listen(target$$1, transEndEvent, onMoveEnd);\n\n      return this;\n    }\n\n    /**\n     * Release the Element currently grabbed.\n     * @param  {Function} [cb=this.options.onRelease] A callback function that\n     * will be called when a target is released and transition has ended. It\n     * will get the target element as the argument.\n     * @return {this}\n     */\n\n  }, {\n    key: 'release',\n    value: function release() {\n      var _this3 = this;\n\n      var cb = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.options.onRelease;\n\n      if (!this.shown || this.lock) return;\n\n      var target$$1 = this.target.el;\n\n      this.options.onBeforeRelease(target$$1);\n\n      this.lock = true;\n      this.body.style.cursor = cursor.default;\n      this.target.restoreOpenStyle();\n\n      var onReleaseEnd = function onReleaseEnd() {\n        listen(target$$1, transEndEvent, onReleaseEnd, false);\n        _this3.lock = false;\n        _this3.released = true;\n        cb(target$$1);\n      };\n\n      listen(target$$1, transEndEvent, onReleaseEnd);\n\n      return this;\n    }\n  }]);\n  return Zooming;\n}();\n\n\nfunction toggleGrabListeners(el, handler$$1, add) {\n  var types = ['mousedown', 'mousemove', 'mouseup', 'touchstart', 'touchmove', 'touchend'];\n\n  types.forEach(function toggleListener(type) {\n    listen(el, type, handler$$1[type], add);\n  });\n}\n\nexport default Zooming;\n", "// import init, {render} from \"./pkg/wasm.js\";\nimport \"./rtw-timer.js\";\nimport Zooming from \"zooming\";\n\nconst btn = document.querySelector(\"button\");\nconst canvas = document.querySelector('canvas');\nconst img = document.querySelector('img');\nconst timers = document.querySelector(\"#timers\");\nlet timer;\n\ncanvas.width = 5 * 100;\ncanvas.height = canvas.width * 2 / 3;\nconst ctx = canvas.getContext('2d');\n\n// calculate the URL of the worker as being relative to this file\nconst workerUrl = new URL(`${import.meta.url}/../wasm-worker.js`);\nconst worker = new Worker(workerUrl.href, {type: \"module\"});\nworker.postMessage(\"init\");\n\nworker.addEventListener('message', async e => {\n    if (e.data.status === \"success\") {\n        if (e.data.data.imageData) {\n            drawImage(e.data.data.imageData);\n        } else if (e.data.data.initialized) {\n            btn.disabled = false;\n        }\n    } else if (e.data.status === \"error\") {\n        // error status probably indicates firefox's lack of support for module\n        // workers, so import the renderer directly and run it on the main\n        // thread.\n\n        // timer won't tick up anymore, so indicate that things will be block\n        timer.pause();\n        timer.setLabel(\"Web Worker failed, running on the main thread...\");\n\n        const {wasmRender} = await import(\"./wasm-render.js\");\n        drawImage(await wasmRender());\n\n        // restart the timer and step it once to update the total running time\n        timer.start();\n        timer.step();\n    }\n    timer && timer.stop();\n});\n\n/**\n * Begin the rendering, including starting a timer widget, starting render\n * within the wasm module, and writing the render result into the canvas.\n */\nfunction startRender() {\n    timer = addTimer();\n    // clearImage();\n    timer.start();\n    worker.postMessage('render');\n}\n\nfunction addTimer() {\n    const newTimer = document.createElement(\"rtw-timer\");\n    const li = document.createElement(\"li\");\n    li.appendChild(newTimer);\n    timers.prepend(li);\n    return newTimer;\n}\n\nfunction drawImage(imageData) {\n    console.time(\"drawing canvas\");\n    ctx.putImageData(imageData, 0, 0);\n    console.timeEnd(\"drawing canvas\");\n    img.src = canvas.toDataURL();\n}\n\nfunction clearImage() {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n}\n\nbtn.addEventListener(\"click\", startRender);\n\nnew Zooming({}).listen('.zoomable')\n"],
  "mappings": "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",
  "names": []
}
