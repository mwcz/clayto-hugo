<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1"
  />
  
  <meta property="og:title" content="Visualizing Network Traffic with WebGL" />
  <meta name="twitter:title" content="Visualizing Network Traffic with WebGL" />
  
  <title>Visualizing Network Traffic with WebGL - clayto</title>

  
  <meta name="description" content="Creating a WebGL particle system to convey network traffic patterns to a live audience at [Red Hat Summit](https://www.redhat.com/summit)." />
  <meta property="og:description" content="Creating a WebGL particle system to convey network traffic patterns to a live audience at [Red Hat Summit](https://www.redhat.com/summit)." />
  <meta name="twitter:description" content="Creating a WebGL particle system to convey network traffic patterns to a live audience at [Red Hat Summit](https://www.redhat.com/summit)." />
  

  <meta name="author" content="" />
  <meta property="og:site_name" content="clayto" />
  <meta property="og:url" content="https://clayto.com/2016/07/visualizing-network-traffic-with-webgl/" />

  
  <meta property="og:image" content="https://clayto.com/2016/07/visualizing-network-traffic-with-webgl/./post-thumbnail.jpg" />
  <meta
    name="twitter:image"
    content="https://clayto.com/2016/07/visualizing-network-traffic-with-webgl/./post-thumbnail.jpg"
  />
  
  <meta name="twitter:card" content="summary" />

  
  <meta name="twitter:site" content="@mwcz" />
  <meta name="twitter:creator" content="@mwcz" />
   
  <meta property="og:type" content="article" />
   
  
  <meta name="generator" content="Hugo 0.51" /><link media="screen"
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600"
    rel="stylesheet"
  />
  <link media="screen" rel="stylesheet" href="https://clayto.com/css/styles.min.css" />

  
  <link
    rel="apple-touch-icon"
    sizes="180x180"
    href="https://clayto.com/images/favicons/apple-touch-icon.png?v=alQ2onMqbL"
  />
  <link
    rel="icon"
    type="image/png"
    sizes="32x32"
    href="https://clayto.com/images/favicons/favicon-32x32.png?v=alQ2onMqbL"
  />
  <link
    rel="icon"
    type="image/png"
    sizes="16x16"
    href="https://clayto.com/images/favicons/favicon-16x16.png?v=alQ2onMqbL"
  />
  <link rel="manifest" href="https://clayto.com/images/favicons/site.webmanifest?v=alQ2onMqbL" />
  <link
    rel="mask-icon"
    href="https://clayto.com/images/favicons/safari-pinned-tab.svg?v=alQ2onMqbL"
    color="#121212"
  />
  <link rel="shortcut icon" href="https://clayto.com/images/favicons/favicon.ico?v=alQ2onMqbL" />
  <meta name="msapplication-TileColor" content="#121212" />
  <meta
    name="msapplication-config"
    content="/images/favicons/browserconfig.xml?v=alQ2onMqbL"
  />
  <meta name="theme-color" content="#121212" />
   
  
  

</head>

<body>
  
  
  
  
  
  
  
  
  
  
  
  
<header class="pbp-navbar-container">
  
<nav class="pbp-navbar" role="navigation">
  <div class="pbp-nav-description">
    WEB, DEMOS, GAMEDEV.&nbsp;&nbsp;
  </div>
  <div class="pbp-nav-logo">
    <a href="https://clayto.com/" title="https://clayto.com/ homepage" id="pbp-logo">
      <img src="https://clayto.com/images/logo.png">
    </a>
  </div>
  <div class="pbp-navitems">
    
    
    
    <a href="https://clayto.com/" class="pbp-navitem">
      &nbsp;BLOG</a>
    
    &nbsp;<span class="pbp-nav-separator">&middot;</span>
    
    
    <a href="https://clayto.com/demos" class="pbp-navitem">
      &nbsp;DEMOS</a>
    
    &nbsp;<span class="pbp-nav-separator">&middot;</span>
    
    
    <a href="https://clayto.com/games" class="pbp-navitem">
      &nbsp;GAMES</a>
    
    
  </div>
</nav>




</header>
  <main id="main" role="main" class="container">


<article class="pbp-article">

  <header>
    <h1>Visualizing Network Traffic with WebGL</h1>
  </header>

  

  <div class="pbp-article-meta">
    <time datetime="2016-07-13T00:00:00Z">
      Jul 13, 2016
    </time>
    
    <span class="pbp-blue">&middot;</span>
    3 minute read
    <br>
    <span class="pbp-article-tags">
      
      <a href="https://clayto.com/tags/demos" class="c-tag">#demos</a>
      
      <a href="https://clayto.com/tags/programming" class="c-tag">#programming</a>
      
      <a href="https://clayto.com/tags/javascript" class="c-tag">#javascript</a>
      
      <a href="https://clayto.com/tags/threejs" class="c-tag">#threejs</a>
      
      <a href="https://clayto.com/tags/webgl" class="c-tag">#webgl</a>
      
      <a href="https://clayto.com/tags/3d" class="c-tag">#3d</a>
      
      <a href="https://clayto.com/tags/web" class="c-tag">#web</a>
      
      <a href="https://clayto.com/tags/redhat" class="c-tag">#redhat</a>
      
    </span>
  </div>

  
  
  <section>
    

<p>&ldquo;<em>Finally,</em>&rdquo; I thought, &ldquo;<em>an excuse to play with WebGL at work!</em>&ldquo;</p>

<p>This year, I had the good fortune of contributing to a keynote presentation at
<a href="https://www.redhat.com/summit">Red Hat Summit</a>. During the keynote, an audience of 5,000 played a
mobile web game created by our team. The game was backed by several
<a href="https://en.wikipedia.org/wiki/Microservices">microservices</a> which we modified on stage while the audience
played.</p>

<p>My contribution was to display, in a visual and engaging way, the live network
traffic flowing through our system.</p>

<p>Being a web guy, I wanted to accomplish this on a webpage, but with such a
large audience, the number of network requests would rocket past what could be
efficiently rendered with HTML and CSS.</p>

<hr />

<h3 id="tiny-particles-of-sand">Tiny Particles of Sand</h3>

<p>While developing <a href="https://clayto.com/projects/dimo">DiMo</a> and <a href="http://kimotion.xyz">Kimotion</a>, I became
fond of <a href="http://threejs.org">three.js</a> particle systems for their performance and visual
charm.</p>

<div class="beside">
    <figure>
        <a href="https://clayto.com/projects/dimo">
            <img src="swath-colors.jpg" alt="DiMo picture" />
        </a>
        <figcaption>Particle gravity simulation in <a href="https://clayto.com/projects/dimo">DiMo: Particles</a> (50,000 particles)</figcaption>
    </figure>
    <figure>
        <a href="https://clayto.com/projects/kimotion">
            <img src="kimotion-pic.jpg" alt="Kimotion picture" />
        </a>
        <figcaption>Rendering a Kinect depth field with 480,000 particles in <a href="https://clayto.com/projects/kimotion">Kimotion</a></figcaption>
    </figure>
</div>

<p>WebGL particle systems can handle many thousands of particles without breaking
a sweat. It can even handle <em>drawing</em> millions of particles, although <em>moving</em>
that many particles is often CPU-bottlenecked. Fancy <a href="https://en.wikipedia.org/wiki/General-purpose_computing_on_graphics_processing_units">tricks</a> can beat
that limitation, although such tricks are still tedious in WebGL.</p>

<p>Alright, let&rsquo;s make some particles.</p>

<hr />

<h3 id="it-s-pixel-time">It&rsquo;s Pixel Time</h3>

<p>When a network request is detected, the particle system moves a tiny dot in an
arc to its destination.</p>

<div class="beside">
    <figure>
        <video style="margin: 0 auto" poster="traffic-viz-basic-thumb.jpg" autoplay controls loop>
            <source src="traffic-viz-basic.mp4" />
            <source src="traffic-viz-basic.webm" />
        </video>
        <figcaption>Particles arc from purple to blue</figcaption>
    </figure>
    <figure>
        <video style="margin: 0 auto" poster="traffic-viz-bluegreen-thumb.jpg" autoplay controls loop>
            <source src="traffic-viz-bluegreen.mp4" />
            <source src="traffic-viz-bluegreen.webm" />
        </video>
        <figcaption>Particles alternate between blue and green</figcaption>
    </figure>
</div>

<p>The arcs are defined by sine waves. Here are the particle arcs as they appear
on-screen, and another shot with sine wave guides showing.</p>

<div class="beside">
    <figure>
        <img src="pipeline-nosines.jpg" alt="pipeline with particles arcing" />
        <figcaption>Particle arcs</figcaption>
    </figure>
    <figure>
        <img src="pipeline-sines.jpg" alt="pipeline with sine wave guides for the particle arcs" />
        <figcaption>Sine wave guides</figcaption>
    </figure>
</div>

<p>To prevent the arcs from overlapping with each other too much, I increased each
wave&rsquo;s amplitude based on vertical distance to be traveled. In essence,
amplitude increases linearly with wavelength. That&rsquo;s why the green arc is
bigger than the blue arc, etc.</p>

<p>Initially, the particles traveled in single-file, which obscured the quantity
of particles. To remedy that, I added a small random horizontal offset unique
to each particle. The offset diminishes at the ends of the arc, which causes
the particles to fan out near the middle.</p>

<p>The particles that enter from the right side of the screen represent network
traffic from the audience. As you can see in the video below, the origin point
of those particles moves randomly up and down to add more visual interest.</p>

<hr />

<h3 id="together-at-last">Together at Last</h3>

<p>After months of collaborating from across the world, it was wonderful to meet
the whole team in person. A few days later, all our hard work came together as
well. All the preparation paid off and the demo worked perfectly. Here&rsquo;s a
shot of my particle visualization from the official recording.</p>

<figure>
    <video style="margin: 0 auto" poster="traffic-thumb.jpg" autoplay controls loop>
        <source src="traffic.webm" />
        <source src="traffic.mp4" />
    </video>
</figure>

<p>Watch the full keynote here:</p>


<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="//www.youtube.com/embed/ooA6FmTL4Dk" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>


<hr />

<h3 id="glow-rope">Glow Rope</h3>

<p>Early on, before traffic data was available, I had the particles follow the
mouse instead. It was pretty fun, so I spun it off into a simple demo called
<a href="https://clayto.com/demos/glow-rope">Glow Rope</a>. Give it a try (mouse required)!</p>

<figure>
    <a href="https://clayto.com/demos/glow-rope"><img src="glow-rope.jpg" alt="glow rope screenshot" /></a>
    <figcaption><p><a class="btn btn-default btn-lg" href="https://clayto.com/demos/glow-rope">Play Glow Rope</a></p></figcaption>
</figure>

<hr />

<h3 id="leaderboard">Leaderboard</h3>

<p>In addition to the network traffic visualization, I helped build a leaderboard
view to display the scores and achievements of the top 10 players in the
audience. <a href="https://twitter.com/andresgalante/">Andres</a> created the beautiful design and handed me a static
mockup which I converted into a dynamic template using <a href="http://ractivejs.org/">Ractive</a>. I
then created a WebSocket connection to the <em>score microservice</em> to populate the
data. Here&rsquo;s a shot of the winners from the live audience.</p>

<p><img src="leaderboard-final.jpg" alt="photo of final leaderboard" /></p>

<hr />

<h3 id="next-year">Next Year</h3>

<p>The amount of work and preparation that goes into a presentation like this was
eye-opening for me. A week out and tired to the bone, I was thinking &ldquo;No way
am I doing this next year!&rdquo; But the thrill of everyone&rsquo;s hard work coming
together drove away the exhaustion. I can&rsquo;t wait to see what we can cook up
next year.</p>

<p><img style="display: none !important;" src="post-thumbnail.jpg"></p>

  </section>
  <footer>

    

    

    

<section>
  <h3>RELATED POSTS</h3>
  <div class="pbp-related">
    
    <article class="pbp-article-li vertical">
  <h2 class="pbp-article-title"><a href="https://clayto.com/2016/07/glow-rope/">Glow Rope</a></h2>
  <div class="pbp-article-summary">
    <section>
      
        A simple WebGL demo of streaming particles.
      
    </section>
  </div>
  <div class="pbp-article-meta">
    <time datetime="2016-07-13T00:00:00Z">
      Jul 13, 2016
    </time>
  </div>
  
  <a tabindex="-1" class="pbp-article-thumbnail" href="https://clayto.com/2016/07/glow-rope/">
    <div class="pbp-article-thumbnail">
      <div class="glass-card">
        <div class="glass-card-ratio">
          <picture>
            
            
            
               
            
            <img
              class="glass-card-bg glass-card-bg-default"
              src="https://clayto.com/2016/07/glow-rope/thumb.jpg">
          </picture>
          <div class="glass-card-border-outer"></div>
          <div class="glass-card-border-inner"></div>
          
          
          
          
          
        </div>
      </div>
    </div>
  </a>
  
</article>

    
    
    <article class="pbp-article-li vertical">
  <h2 class="pbp-article-title"><a href="https://clayto.com/2014/10/dimo-the-deconstruction-of-falling-stars/">DiMo: The Deconstruction of Falling Stars</a></h2>
  <div class="pbp-article-summary">
    <section>
      
        The construction of a WebGL particle physics gravity simulation <em>slash</em> interactive art installation.
      
    </section>
  </div>
  <div class="pbp-article-meta">
    <time datetime="2014-10-30T00:00:00Z">
      Oct 30, 2014
    </time>
  </div>
  
  <a tabindex="-1" class="pbp-article-thumbnail" href="https://clayto.com/2014/10/dimo-the-deconstruction-of-falling-stars/">
    <div class="pbp-article-thumbnail">
      <div class="glass-card">
        <div class="glass-card-ratio">
          <picture>
            
            
            
               
            
            <img
              class="glass-card-bg glass-card-bg-default"
              src="https://clayto.com/2014/10/dimo-the-deconstruction-of-falling-stars/swath-colors.jpg">
          </picture>
          <div class="glass-card-border-outer"></div>
          <div class="glass-card-border-inner"></div>
          
          
          
          
          
        </div>
      </div>
    </div>
  </a>
  
</article>

    
    
    <article class="pbp-article-li vertical">
  <h2 class="pbp-article-title"><a href="https://clayto.com/2014/08/particles-and-%CF%80-dimo-comes-to-life/">Particles and π - DiMo Comes to Life</a></h2>
  <div class="pbp-article-summary">
    <section>
      
        A player walks up Fayetteville St in Raleigh, North Carolina.  SPARKcon has begun, and dozens of artists are &hellip;
      
    </section>
  </div>
  <div class="pbp-article-meta">
    <time datetime="2014-08-25T00:00:00Z">
      Aug 25, 2014
    </time>
  </div>
  
  <a tabindex="-1" class="pbp-article-thumbnail" href="https://clayto.com/2014/08/particles-and-%CF%80-dimo-comes-to-life/">
    <div class="pbp-article-thumbnail">
      <div class="glass-card">
        <div class="glass-card-ratio">
          <picture>
            
            
            
               
            
            <img
              class="glass-card-bg glass-card-bg-default"
              src="https://clayto.com/2014/08/particles-and-%CF%80-dimo-comes-to-life/./dimo-kids.jpg">
          </picture>
          <div class="glass-card-border-outer"></div>
          <div class="glass-card-border-inner"></div>
          
          
          
          
          
        </div>
      </div>
    </div>
  </a>
  
</article>

    
    
    <article class="pbp-article-li vertical">
  <h2 class="pbp-article-title"><a href="https://clayto.com/2015/09/make-a-kimotion/">Make a Kimotion!</a></h2>
  <div class="pbp-article-summary">
    <section>
      
        Kimotion is a new framework for building interactive art exhibits.  It will appeal mostly to the Programmer Artist types.  Think &ldquo;Warrior Poet&rdquo;, but with keyboards.
      
    </section>
  </div>
  <div class="pbp-article-meta">
    <time datetime="2015-09-26T00:00:00Z">
      Sep 26, 2015
    </time>
  </div>
  
  <a tabindex="-1" class="pbp-article-thumbnail" href="https://clayto.com/2015/09/make-a-kimotion/">
    <div class="pbp-article-thumbnail">
      <div class="glass-card">
        <div class="glass-card-ratio">
          <picture>
            
            
            
               
            
            <img
              class="glass-card-bg glass-card-bg-default"
              src="https://clayto.com/2015/09/make-a-kimotion/thumb.jpg">
          </picture>
          <div class="glass-card-border-outer"></div>
          <div class="glass-card-border-inner"></div>
          
          
          
          
          
        </div>
      </div>
    </div>
  </a>
  
</article>

    
    
    <article class="pbp-article-li vertical">
  <h2 class="pbp-article-title"><a href="https://clayto.com/projects/kimotion/">Kimotion</a></h2>
  <div class="pbp-article-summary">
    <section>
      
        Kimotion is a framework for building reactive digital art displays.
      
    </section>
  </div>
  <div class="pbp-article-meta">
    <time datetime="2015-09-26T00:00:00Z">
      Sep 26, 2015
    </time>
  </div>
  
  <a tabindex="-1" class="pbp-article-thumbnail" href="https://clayto.com/projects/kimotion/">
    <div class="pbp-article-thumbnail">
      <div class="glass-card">
        <div class="glass-card-ratio">
          <picture>
            
            
            
               
            
            <img
              class="glass-card-bg glass-card-bg-default"
              src="https://clayto.com/projects/kimotion/./thumb.png">
          </picture>
          <div class="glass-card-border-outer"></div>
          <div class="glass-card-border-inner"></div>
          
          
          
          
          
        </div>
      </div>
    </div>
  </a>
  
</article>

    
    
    <article class="pbp-article-li vertical">
  <h2 class="pbp-article-title"><a href="https://clayto.com/projects/dimo/">DiMo: Particles</a></h2>
  <div class="pbp-article-summary">
    <section>
      
        Dimo: Particles is an artistic particle physics simulation and interactive art exhibit I created (along with fellow Red Hat engineers Ian Hands and Ben Pritchett) for the SPARKcon festival in 2014.
Launch live demo!
  Pictures These pictures are from the art exhibit at geekSPARK in 2014.
$GALLERY
After the event, I wrote this opensource.com article about the experience.
The source code is, of course, open.
      
    </section>
  </div>
  <div class="pbp-article-meta">
    <time datetime="2014-08-25T00:00:00Z">
      Aug 25, 2014
    </time>
  </div>
  
  <a tabindex="-1" class="pbp-article-thumbnail" href="https://clayto.com/projects/dimo/">
    <div class="pbp-article-thumbnail">
      <div class="glass-card">
        <div class="glass-card-ratio">
          <picture>
            
            
            
               
            
            <img
              class="glass-card-bg glass-card-bg-default"
              src="https://clayto.com/projects/dimo/./icon_dimo.png">
          </picture>
          <div class="glass-card-border-outer"></div>
          <div class="glass-card-border-inner"></div>
          
          
          
          
          
        </div>
      </div>
    </div>
  </a>
  
</article>

    
    
  </div>
</section>




  </footer>
</article>
  </main>
  <footer class="container">
    <section class="pbp-footer">
      
<aside>
  
    <small class="footer-label">CONTACT ME</small>
    
    
    
    
<ul class="pbp-social-links">
  
  <li>
    <a title="Email me" href="mailto:mwc@clayto.com">
      <span class="icon-mail"></span>
    </a>
  </li>
  
  
  <li>
    <a title="my GitHub activity" href="https://github.com/mwcz" target="_blank">
      <span class="icon-github-squared"></span>
    </a>
  </li>
  
  
  <li>
    <a title="my CodePens" href="https://codepen.io/mwcz" target="_blank">
      <span class="icon-codepen"></span>
    </a>
  </li>
  
  
  <li>
    <a title="my Twitter" href="https://twitter.com/mwcz" target="_blank">
      <span class="icon-twitter-squared"></span>
    </a>
  </li>
  
  
  
  
  
  
  
  
  
  
  
  
  <li>
    <a title="my Vimeo videos" href="https://vimeo.com/mwcz" target="_blank">
      <span class="icon-vimeo-squared"></span>
    </a>
  </li>
  
  
  
</ul>


  
</aside>


    </section>

    
    
    
    
    

    
    
    
    
    
    
  </footer>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.2/anchor.min.js"></script>
  <script>
    anchors.options.visible = 'touch';
    anchors.options.placement = 'right';
    anchors.options.class = 'heading-anchor';
    anchors.add('article > section h1,article > section h2,article > section h3,article > section h4,article > section h5,article > section h6');
  </script>

  
    
  

</body>
</html>

