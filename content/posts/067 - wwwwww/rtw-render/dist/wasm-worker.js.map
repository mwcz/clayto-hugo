{
  "version": 3,
  "sources": ["../wasm-worker.js"],
  "sourcesContent": ["// try importing wasm-render.  if the import fails, it probably indicates a\n// browser that doesn't support module imports from web workers, like Firefox,\n// so report an error back to the main thread, which will respond by running\n// the rendering on the main thread.\n\nlet wasmRender;\nlet initialized = false;\n\nconsole.log(\"wasm-worker module\");\n\naddEventListener(\"message\", async (e) => {\n    if (e.data === \"init\") {\n        try {\n            const module = await import(`${import.meta.url}/../wasm-render.js`);\n            wasmRender = module.wasmRender;\n            await module.wasmInit();\n            initialized = true;\n            postMessage({ status: \"success\", data: { initialized } });\n        } catch (e) {\n            console.error(e);\n            postMessage({\n                status: \"error\",\n                data: { type: \"import\" },\n                message: \"error occurred during web worker import\",\n            });\n        }\n    } else if (e.data === \"render\") {\n        try {\n            const imageData = await wasmRender();\n            postMessage({\n                status: \"success\",\n                data: { initialized, imageData },\n            });\n        } catch (error) {\n            console.error(error);\n            postMessage({\n                status: \"error\",\n                data: { type: \"render\", error },\n                message: \"error occurred during render\",\n            });\n        }\n    }\n});\n\n// // import wasmRender from \"./wasm-render.js\";\n\n// try {\n//     console.log('importing');\n//     import(\"./wasm-render.js\").then(({wasmRender}) => {\n//         console.log('imported');\n//         addEventListener('message', () => {\n//             postMessage({status: \"success\", data: await wasmRender()});\n//         });\n//     });\n// } catch (e) {\n//     postMessage({status: \"error\", message: \"error occurred during import or render\"});\n// }\n"],
  "mappings": ";AAKA,IAAI;AACJ,IAAI,cAAc;AAElB,QAAQ,IAAI;AAEZ,iBAAiB,WAAW,OAAO;AAC/B,MAAI,EAAE,SAAS;AACX;AACI,YAAM,SAAS,MAAa,UAAG,YAAY;AAC3C,mBAAa,OAAO;AACpB,YAAM,OAAO;AACb,oBAAc;AACd,kBAAY,CAAE,QAAQ,WAAW,MAAM,CAAE;AAAA,aACpC;AACL,cAAQ,MAAM;AACd,kBAAY;AAAA,QACR,QAAQ;AAAA,QACR,MAAM,CAAE,MAAM;AAAA,QACd,SAAS;AAAA;AAAA;AAAA,aAGV,EAAE,SAAS;AAClB;AACI,YAAM,YAAY,MAAM;AACxB,kBAAY;AAAA,QACR,QAAQ;AAAA,QACR,MAAM,CAAE,aAAa;AAAA;AAAA,aAEpB;AACL,cAAQ,MAAM;AACd,kBAAY;AAAA,QACR,QAAQ;AAAA,QACR,MAAM,CAAE,MAAM,UAAU;AAAA,QACxB,SAAS;AAAA;AAAA;AAAA;AAAA;",
  "names": []
}
